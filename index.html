<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Girl Math Calculator</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #fef7ff 0%, #fdf2f8 50%, #fef7ff 100%);
            min-height: 100vh;
            color: #6b5b73;
            padding: 80px 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            max-width: 520px;
            width: 100%;
            margin: 0 auto;
            padding: 40px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 40px;
            box-shadow: 0 0 50px rgba(236, 72, 153, 0.1);
        }

        .screen {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(25px);
            border-radius: 32px;
            padding: 50px 40px;
            box-shadow: 
                0 32px 64px -12px rgba(236, 72, 153, 0.15),
                0 0 0 1px rgba(255, 255, 255, 0.8),
                inset 0 1px 0 rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(244, 114, 182, 0.1);
        }

        .screen.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 38px;
            font-weight: 600;
            background: linear-gradient(135deg, #ec4899, #a855f7, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 16px;
            letter-spacing: -0.02em;
            line-height: 1.1;
        }

        .header h2 {
            font-family: 'Playfair Display', serif;
            font-size: 30px;
            font-weight: 500;
            color: #ec4899;
            margin-bottom: 16px;
            letter-spacing: -0.01em;
        }

        .header p {
            color: #a855f7;
            font-size: 18px;
            line-height: 1.6;
            font-weight: 400;
            max-width: 400px;
            margin: 0 auto;
        }

        .input-group {
            margin-bottom: 32px;
        }

        .input-group label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
            color: #ec4899;
            font-size: 17px;
            letter-spacing: -0.01em;
        }

        .text-input {
            width: 100%;
            padding: 20px 24px;
            border: 2px solid rgba(244, 114, 182, 0.2);
            border-radius: 20px;
            font-size: 17px;
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.8);
            color: #6b5b73;
            font-family: 'Inter', sans-serif;
        }

        .text-input:focus {
            outline: none;
            border-color: #ec4899;
            box-shadow: 0 0 0 6px rgba(236, 72, 153, 0.1);
            background: rgba(255, 255, 255, 0.98);
        }

        .text-input::placeholder {
            color: #d1a7d1;
            font-style: italic;
            font-weight: 400;
        }

        .emoji-reactions {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            justify-content: center;
        }

        .emoji-btn {
            background: rgba(255, 255, 255, 0.7);
            border: 3px solid rgba(244, 114, 182, 0.2);
            border-radius: 16px;
            padding: 12px;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .emoji-btn:hover, .emoji-btn.selected {
            border-color: #ec4899;
            background: rgba(236, 72, 153, 0.05);
            transform: scale(1.08) rotate(5deg);
            box-shadow: 0 8px 25px -5px rgba(236, 72, 153, 0.3);
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 18px;
            margin-bottom: 30px;
        }

        .category-item {
            background: rgba(255, 255, 255, 0.7);
            border: 3px solid rgba(244, 114, 182, 0.15);
            border-radius: 24px;
            padding: 32px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .category-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(236, 72, 153, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .category-item:hover::before {
            left: 100%;
        }

        .category-item:hover, .category-item.selected {
            border-color: #ec4899;
            background: rgba(236, 72, 153, 0.05);
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 20px 40px -10px rgba(236, 72, 153, 0.25);
        }

        .category-icon {
            font-size: 36px;
            margin-bottom: 12px;
            position: relative;
            z-index: 2;
        }

        .category-name {
            font-weight: 600;
            font-family: 'Inter', sans-serif;
            font-size: 15px;
            color: #6b5b73;
            letter-spacing: 0.2px;
            position: relative;
            z-index: 2;
        }

        .mood-selector {
            display: flex;
            gap: 16px;
            margin-bottom: 30px;
        }

        .mood-item {
            flex: 1;
            background: rgba(255, 255, 255, 0.7);
            border: 3px solid rgba(244, 114, 182, 0.15);
            border-radius: 24px;
            padding: 32px 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            min-height: 120px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .mood-item:hover, .mood-item.selected {
            border-color: #ec4899;
            background: rgba(236, 72, 153, 0.05);
            transform: translateY(-4px);
            box-shadow: 0 20px 40px -10px rgba(236, 72, 153, 0.25);
        }

        .mood-emoji {
            font-size: 32px;
            margin-bottom: 12px;
        }

        .mood-text {
            font-weight: 500;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            color: #6b5b73;
            letter-spacing: 0.2px;
        }

        .toggle-group {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .toggle-btn {
            flex: 1;
            background: rgba(255, 255, 255, 0.7);
            border: 3px solid rgba(244, 114, 182, 0.15);
            border-radius: 18px;
            padding: 20px 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 500;
            font-family: 'Inter', sans-serif;
            color: #6b5b73;
            font-size: 14px;
            min-width: 120px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            letter-spacing: 0.2px;
        }

        .toggle-btn:hover, .toggle-btn.selected {
            border-color: #ec4899;
            background: rgba(236, 72, 153, 0.05);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px -5px rgba(236, 72, 153, 0.2);
        }

        .scale-input {
            width: 100%;
            margin: 25px 0;
        }

        .scale-input input[type="range"] {
            width: 100%;
            height: 10px;
            border-radius: 8px;
            background: linear-gradient(90deg, #ef4444, #f59e0b, #10b981);
            outline: none;
            -webkit-appearance: none;
        }

        .scale-input input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #ec4899;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(236, 72, 153, 0.4);
            border: 3px solid white;
        }

        .scale-labels {
            display: flex;
            justify-content: space-between;
            font-size: 13px;
            color: #6b7280;
            margin-top: 8px;
            font-weight: 500;
        }

        .btn {
            background: linear-gradient(135deg, #ec4899 0%, #a855f7 50%, #3b82f6 100%);
            color: white;
            border: none;
            padding: 24px 40px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            font-family: 'Inter', sans-serif;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            width: 100%;
            margin-top: 32px;
            letter-spacing: 0.5px;
            text-transform: lowercase;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 32px -8px rgba(236, 72, 153, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 56px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 15px 40px -8px rgba(236, 72, 153, 0.5);
        }

        .btn:active {
            transform: translateY(-1px) scale(0.98);
        }

        .btn:disabled {
            background: linear-gradient(135deg, #d1d5db, #9ca3af);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .receipt {
            background: #ffffff;
            color: #000000;
            border-radius: 12px;
            padding: 40px 30px;
            font-family: 'Space Mono', 'Courier New', monospace;
            max-height: 600px;
            overflow-y: auto;
            margin-top: 32px;
            border: 2px dashed #ec4899;
            box-shadow: 
                0 0 0 4px #ffffff,
                0 0 0 8px #ec4899,
                0 20px 40px -12px rgba(236, 72, 153, 0.3);
            position: relative;
        }

        .receipt::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 20px;
            right: 20px;
            height: 16px;
            background: repeating-linear-gradient(
                90deg,
                transparent,
                transparent 8px,
                #ec4899 8px,
                #ec4899 16px
            );
        }

        .receipt-header {
            text-align: center;
            margin-bottom: 30px;
            font-size: 16px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #000000;
        }

        .receipt-store {
            text-align: center;
            margin-bottom: 25px;
            font-size: 18px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .receipt-line {
            margin-bottom: 8px;
            opacity: 0;
            transform: translateX(-20px);
            animation: printLine 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            font-size: 13px;
            line-height: 1.4;
            color: #000000;
            font-weight: 400;
            display: flex;
            justify-content: space-between;
        }

        .receipt-line.highlight {
            font-weight: 700;
            border-top: 1px solid #000;
            border-bottom: 1px solid #000;
            padding: 8px 0;
            margin: 15px 0;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .receipt-line.separator {
            text-align: center;
            margin: 20px 0;
            font-weight: 700;
            border-bottom: 2px solid #000;
            padding-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 2px;
            display: block;
        }

        .receipt-line.center {
            justify-content: center;
            text-align: center;
            display: block;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .receipt-hype {
            background: #fef7ff;
            border: 2px dashed #ec4899;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Inter', sans-serif;
            font-style: italic;
            color: #6b5b73;
            line-height: 1.6;
        }

        .confetti {
            position: fixed;
            width: 8px;
            height: 8px;
            background: #ec4899;
            animation: confetti 3s ease-out forwards;
        }

        @keyframes confetti {
            0% {
                transform: translateY(0) rotateZ(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotateZ(720deg);
                opacity: 0;
            }
        }

        @keyframes printLine {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(244, 114, 182, 0.2);
            border-radius: 10px;
            margin-bottom: 40px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ec4899, #a855f7);
            border-radius: 10px;
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 20px rgba(236, 72, 153, 0.5);
        }

        @media (max-width: 580px) {
            body {
                padding: 30px 20px;
            }
            
            .container {
                padding: 25px;
                border-radius: 30px;
            }
            
            .screen {
                padding: 40px 30px;
                border-radius: 28px;
            }
            
            .header h1 {
                font-size: 32px;
            }
            
            .header h2 {
                font-size: 26px;
            }
            
            .category-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .mood-selector {
                flex-direction: column;
                gap: 15px;
            }

            .toggle-group {
                flex-direction: column;
                gap: 10px;
            }

            .receipt {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <!-- Screen 1: Spill the Tea -->
        <div class="screen active" id="screen1">
            <div class="header">
                <h1>‚ú® Girl Math Calculator ‚ú®</h1>
                <p>bestie what did you just absolutely NEED? no judgment here, we're all financially responsible queens üíÖ</p>
            </div>
            
            <div class="input-group">
                <label>spill the deets on your latest slay:</label>
                <input type="text" class="text-input" id="itemInput" placeholder="the cutest crop top that was literally calling my name...">
            </div>

            <div class="emoji-reactions">
                <button class="emoji-btn" data-emoji="üòç">üòç</button>
                <button class="emoji-btn" data-emoji="ü•π">ü•π</button>
                <button class="emoji-btn" data-emoji="üí∏">üí∏</button>
                <button class="emoji-btn" data-emoji="ü§Ø">ü§Ø</button>
            </div>

            <button class="btn" onclick="nextScreen()">periodt let's go ‚ú®</button>
        </div>

        <!-- Screen 2: Category Moodboard -->
        <div class="screen" id="screen2">
            <div class="header">
                <h2>what vibe are we working with?</h2>
                <p>categorize your main character moment</p>
            </div>

            <div class="category-grid">
                <div class="category-item" data-category="dresses">
                    <div class="category-icon">üëó</div>
                    <div class="category-name">fits & lewks</div>
                </div>
                <div class="category-item" data-category="shoes">
                    <div class="category-icon">üë†</div>
                    <div class="category-name">shoe game</div>
                </div>
                <div class="category-item" data-category="skincare">
                    <div class="category-icon">üß¥</div>
                    <div class="category-name">self care era</div>
                </div>
                <div class="category-item" data-category="bags">
                    <div class="category-icon">üëú</div>
                    <div class="category-name">bag secured</div>
                </div>
                <div class="category-item" data-category="jewelry">
                    <div class="category-icon">üíé</div>
                    <div class="category-name">bling bling</div>
                </div>
                <div class="category-item" data-category="tech">
                    <div class="category-icon">üì±</div>
                    <div class="category-name">tech queen</div>
                </div>
                <div class="category-item" data-category="coffee">
                    <div class="category-icon">‚òï</div>
                    <div class="category-name">fuel addiction</div>
                </div>
                <div class="category-item" data-category="random">
                    <div class="category-icon">üõçÔ∏è</div>
                    <div class="category-name">random chaos</div>
                </div>
            </div>

            <button class="btn" onclick="nextScreen()" disabled>this is the one fr üíÖ</button>
        </div>

        <!-- Screen 3: Love at First Sight -->
        <div class="screen" id="screen3">
            <div class="header">
                <h2>the origin story</h2>
                <p>tell us about the moment you knew it was fate</p>
            </div>

            <div class="input-group">
                <textarea class="text-input" id="momentInput" rows="3" placeholder="literally saw it and my heart said YES while my bank account said no but here we are..."></textarea>
            </div>

            <div class="mood-selector">
                <div class="mood-item" data-mood="impulse">
                    <div class="mood-emoji">üò≥</div>
                    <div class="mood-text">impulse queen</div>
                </div>
                <div class="mood-item" data-mood="planned">
                    <div class="mood-emoji">üßê</div>
                    <div class="mood-text">strategic icon</div>
                </div>
                <div class="mood-item" data-mood="destiny">
                    <div class="mood-emoji">‚ú®</div>
                    <div class="mood-text">universe aligned</div>
                </div>
            </div>

            <button class="btn" onclick="nextScreen()" disabled>continue the lore ‚ú®</button>
        </div>

        <!-- Screen 4: Payment & Sale Info -->
        <div class="screen" id="screen4">
            <div class="header">
                <h2>money talk (but make it cute)</h2>
                <p>time to get into the financial tea bestie</p>
            </div>

            <div class="input-group">
                <label>what did your bank account sacrifice?</label>
                <input type="number" class="text-input" id="priceInput" placeholder="3000">
            </div>

            <div class="input-group">
                <label>did the sale gods bless you?</label>
                <div class="toggle-group">
                    <button class="toggle-btn" data-sale="yes">yes queen! üéâ</button>
                    <button class="toggle-btn" data-sale="no">full price bestie üòÖ</button>
                    <button class="toggle-btn" data-sale="destiny">it was meant to be ‚ú®</button>
                </div>
            </div>

            <div class="input-group">
                <label>payment method of choice?</label>
                <div class="toggle-group">
                    <button class="toggle-btn" data-payment="cash">cash money üíµ</button>
                    <button class="toggle-btn" data-payment="upi">upi queen üì±</button>
                    <button class="toggle-btn" data-payment="card">card swiped üí≥</button>
                </div>
                <div class="toggle-group">
                    <button class="toggle-btn" data-payment="bnpl">pay later vibes ‚è∞</button>
                    <button class="toggle-btn" data-payment="gift">gift card hack üéÅ</button>
                    <button class="toggle-btn" data-payment="borrowed">borrowed funds ü§ù</button>
                </div>
            </div>

            <div class="input-group">
                <label>did your cart judge you?</label>
                <div class="toggle-group">
                    <button class="toggle-btn" data-cart="yes">it was LOUD üò±</button>
                    <button class="toggle-btn" data-cart="no">silent treatment üòé</button>
                </div>
            </div>

            <button class="btn" onclick="nextScreen()" disabled>crunch the numbers ‚ú®</button>
        </div>

        <!-- Screen 5: Wear & Tear Forecast -->
        <div class="screen" id="screen5">
            <div class="header">
                <h2>usage predictions</h2>
                <p id="usagePrompt">realistically how much will you use this?</p>
            </div>

            <div class="input-group">
                <input type="number" class="text-input" id="usageInput" placeholder="20">
            </div>

            <button class="btn" onclick="nextScreen()" disabled>almost there bestie ‚ú®</button>
        </div>

        <!-- Screen 6: Regret/Flex Factor -->
        <div class="screen" id="screen6">
            <div class="header">
                <h2>confidence check</h2>
                <p>on a scale of buyer's remorse to iconic purchase</p>
            </div>

            <div class="scale-input">
                <input type="range" min="1" max="10" value="5" id="regretScale">
                <div class="scale-labels">
                    <span>major regrets üò≠</span>
                    <span>absolute serve üíÖ</span>
                </div>
            </div>

            <div style="text-align: center; margin: 20px 0; font-size: 24px; font-weight: 700; color: #ec4899;">
                <span id="scaleValue">5</span>/10
            </div>

            <button class="btn" onclick="generateReceipt()">gimme my receipt! ‚ú®</button>
        </div>

        <!-- Screen 7: Royal Receipt -->
        <div class="screen" id="screen7">
            <div class="header">
                <h2>üíÖ your official receipt</h2>
                <p>mathematically justified & certified iconic</p>
            </div>

            <div class="receipt" id="receipt">
                <div class="receipt-header">‚ú® GIRLMATH CERTIFIED PURCHASE ‚ú®</div>
                <div id="receiptContent"></div>
            </div>

            <button class="btn" onclick="startOver()">calculate another slay ‚ú®</button>
        </div>
    </div>

    <script>
        // App state
        let currentScreen = 1;
        const totalScreens = 7;
        let appData = {
            item: '',
            emoji: '',
            category: '',
            moment: '',
            mood: '',
            price: 0,
            sale: '',
            payment: '',
            cart: '',
            usage: 0,
            regret: 5
        };

        // Wearable categories for cost-per-wear calculation
        const wearableCategories = ['dresses', 'shoes', 'bags', 'jewelry'];

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            setupEventListeners();
        });

        function setupEventListeners() {
            // Emoji reactions
            document.querySelectorAll('.emoji-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.emoji-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    appData.emoji = this.dataset.emoji;
                });
            });

            // Categories
            document.querySelectorAll('.category-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.category-item').forEach(i => i.classList.remove('selected'));
                    this.classList.add('selected');
                    appData.category = this.dataset.category;
                    document.querySelector('#screen2 .btn').disabled = false;
                });
            });

            // Moods
            document.querySelectorAll('.mood-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.mood-item').forEach(i => i.classList.remove('selected'));
                    this.classList.add('selected');
                    appData.mood = this.dataset.mood;
                    document.querySelector('#screen3 .btn').disabled = false;
                });
            });

            // Toggle buttons
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.parentElement;
                    group.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    if (this.dataset.sale) appData.sale = this.dataset.sale;
                    if (this.dataset.payment) appData.payment = this.dataset.payment;
                    if (this.dataset.cart) appData.cart = this.dataset.cart;
                    
                    checkScreen4Complete();
                });
            });

            // Regret scale
            document.getElementById('regretScale').addEventListener('input', function() {
                document.getElementById('scaleValue').textContent = this.value;
                appData.regret = parseInt(this.value);
            });

            // Input validations
            document.getElementById('itemInput').addEventListener('input', function() {
                appData.item = this.value;
            });

            document.getElementById('momentInput').addEventListener('input', function() {
                appData.moment = this.value;
            });

            document.getElementById('priceInput').addEventListener('input', function() {
                appData.price = parseFloat(this.value) || 0;
                checkScreen4Complete();
            });

            document.getElementById('usageInput').addEventListener('input', function() {
                appData.usage = parseInt(this.value) || 0;
                document.querySelector('#screen5 .btn').disabled = this.value === '';
            });
        }

        function checkScreen4Complete() {
            const btn = document.querySelector('#screen4 .btn');
            btn.disabled = !(appData.price > 0 && appData.sale && appData.payment && appData.cart);
        }

        function nextScreen() {
            if (currentScreen < totalScreens) {
                // Update usage prompt based on category
                if (currentScreen === 4) {
                    const prompt = document.getElementById('usagePrompt');
                    if (wearableCategories.includes(appData.category)) {
                        prompt.textContent = 'how many times will you serve looks in this per year?';
                    } else {
                        prompt.textContent = 'realistically how much will you use this? (times per month)';
                    }
                }

                document.getElementById(`screen${currentScreen}`).classList.remove('active');
                currentScreen++;
                
                setTimeout(() => {
                    document.getElementById(`screen${currentScreen}`).classList.add('active');
                    updateProgress();
                }, 300);
            }
        }

        function updateProgress() {
            const progress = (currentScreen / totalScreens) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
        }

        function generateReceipt() {
            nextScreen();
            
            setTimeout(() => {
                const receiptContent = document.getElementById('receiptContent');
                const lines = generateReceiptLines();
                
                lines.forEach((lineObj, index) => {
                    setTimeout(() => {
                        if (lineObj.isHype) {
                            const hypeDiv = document.createElement('div');
                            hypeDiv.className = 'receipt-hype';
                            hypeDiv.innerHTML = lineObj.text;
                            receiptContent.appendChild(hypeDiv);
                        } else {
                            const lineDiv = document.createElement('div');
                            lineDiv.className = `receipt-line ${lineObj.class || ''}`;
                            if (lineObj.class === 'separator' || lineObj.class === 'center') {
                                lineDiv.textContent = lineObj.text;
                            } else {
                                lineDiv.innerHTML = lineObj.text;
                            }
                            lineDiv.style.animationDelay = `${index * 0.1}s`;
                            receiptContent.appendChild(lineDiv);
                        }
                    }, index * 300);
                });

                // Add confetti for high flex scores
                if (appData.regret >= 8) {
                    setTimeout(() => {
                        createConfetti();
                    }, lines.length * 300);
                }
            }, 500);
        }

        function generateReceiptLines() {
            const lines = [];
            const isWearable = wearableCategories.includes(appData.category);
            const today = new Date();
            const dateStr = today.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: '2-digit', 
                day: '2-digit' 
            });
            const timeStr = today.toLocaleTimeString('en-US', { 
                hour12: false,
                hour: '2-digit',
                minute: '2-digit'
            });
            
            lines.push({ text: 'GIRL MATH EMPORIUM', class: 'store' });
            lines.push({ text: '123 MAIN CHARACTER STREET', class: 'center' });
            lines.push({ text: 'SLAY CITY, ICONIC STATE', class: 'center' });
            lines.push({ text: '', class: '' });
            lines.push({ text: `DATE: ${dateStr}    TIME: ${timeStr}`, class: '' });
            lines.push({ text: `CASHIER: BESTIE #001`, class: '' });
            lines.push({ text: `TRANSACTION ID: ${Math.random().toString(36).substr(2, 8).toUpperCase()}`, class: '' });
            lines.push({ text: '', class: '' });
            lines.push({ text: '================================', class: 'separator' });
            lines.push({ text: '', class: '' });
            
            const itemName = appData.item || 'ICONIC PURCHASE';
            const categoryName = getCategoryName(appData.category).toUpperCase();
            
            lines.push({ text: `<span>${itemName.toUpperCase()}</span><span>‚Çπ${appData.price.toFixed(2)}</span>` });
            lines.push({ text: `<span>CATEGORY: ${categoryName}</span><span></span>` });
            lines.push({ text: `<span>VIBE: ${appData.mood?.toUpperCase() || 'ICONIC'}</span><span></span>` });
            lines.push({ text: '', class: '' });
            
            if (isWearable && appData.usage > 0) {
                const costPerWear = (appData.price / appData.usage);
                lines.push({ text: `<span>COST PER SLAY:</span><span>‚Çπ${costPerWear.toFixed(2)}</span>`, class: 'highlight' });
            }
            
            lines.push({ text: '', class: '' });
            lines.push({ text: '================================', class: 'separator' });
            lines.push({ text: '', class: '' });
            
            lines.push({ text: `<span>SUBTOTAL:</span><span>‚Çπ${appData.price.toFixed(2)}</span>` });
            
            let discount = 0;
            if (appData.sale === 'yes') {
                discount = appData.price * 0.1; // Assume 10% discount for demo
                lines.push({ text: `<span>GIRL MATH DISCOUNT:</span><span>-‚Çπ${discount.toFixed(2)}</span>` });
            }
            
            const finalTotal = appData.price - discount;
            lines.push({ text: `<span>TOTAL:</span><span>‚Çπ${finalTotal.toFixed(2)}</span>`, class: 'highlight' });
            lines.push({ text: '', class: '' });
            
            lines.push({ text: `PAID BY: ${getPaymentMethod(appData.payment).toUpperCase()}`, class: 'center' });
            lines.push({ text: `CONFIDENCE LEVEL: ${appData.regret}/10 ‚ú®`, class: 'center' });
            lines.push({ text: '', class: '' });
            lines.push({ text: '================================', class: 'separator' });
            lines.push({ text: '', class: '' });
            
            // Add Gen Z hype text
            const hypeText = generateGenZHypeText();
            lines.push({ text: hypeText, isHype: true });
            
            lines.push({ text: '', class: '' });
            lines.push({ text: 'THANK YOU FOR SHOPPING WITH US!', class: 'center' });
            lines.push({ text: 'YOUR PURCHASE HAS BEEN', class: 'center' });
            lines.push({ text: 'MATHEMATICALLY JUSTIFIED ‚ú®', class: 'center' });
            lines.push({ text: '', class: '' });
            lines.push({ text: '~ NO RETURNS ON SEROTONIN ~', class: 'center' });
            
            return lines;
        }

        function generateGenZHypeText() {
            const isWearable = wearableCategories.includes(appData.category);
            const costPerWear = isWearable && appData.usage > 0 ? (appData.price / appData.usage).toFixed(2) : 0;
            let hype = [];

            hype.push("üì¢ <strong>OFFICIAL GIRL MATH VERDICT:</strong><br><br>");

            // Sale scenarios
            if (appData.sale === 'yes') {
                hype.push("üéØ <strong>ON SALE = BASICALLY FREE</strong><br>");
                hype.push("The universe literally PAID you to be this iconic. ");
                if (isWearable) {
                    hype.push(`At ‚Çπ${costPerWear} per wear, this is cheaper than therapy bestie! `);
                }
                hype.push("You're not spending money, you're INVESTING in your happiness portfolio.<br><br>");
            } else if (appData.sale === 'destiny') {
                hype.push("‚ú® <strong>DESTINY PURCHASE ACTIVATED</strong><br>");
                hype.push("This wasn't shopping, this was FATE. The universe literally arranged this meeting. ");
                hype.push("You can't put a price on divine intervention, but if you could, this would be a steal!<br><br>");
            }

            // Payment method hype
            if (appData.payment === 'bnpl') {
                hype.push("‚è∞ <strong>BUY NOW PAY LATER = TIME TRAVEL</strong><br>");
                hype.push("You're basically borrowing from your future successful self who will THANK you for this purchase. ");
                hype.push("Future you has more money anyway, this is just good financial planning!<br><br>");
            } else if (appData.payment === 'gift') {
                hype.push("üéÅ <strong>GIFT CARD = FREE MONEY</strong><br>");
                hype.push("This was literally FREE. Gift cards don't count as real money, that's just basic economics. ");
                hype.push("You're basically getting PAID to shop. Iconic behavior only.<br><br>");
            } else if (appData.payment === 'cash') {
                hype.push("üíµ <strong>CASH MONEY = DOESN'T COUNT</strong><br>");
                hype.push("Cash isn't connected to your bank account so it's basically Monopoly money. ");
                hype.push("This purchase happened in a parallel universe where you're rich!<br><br>");
            }

            // Category-specific hype
            switch (appData.category) {
                case 'dresses':
                    hype.push("üëó <strong>INVESTMENT IN YOUR REPUTATION</strong><br>");
                    hype.push(`At ‚Çπ${costPerWear} per main character moment, you're basically getting PAID to serve looks. `);
                    hype.push("This dress will pay for itself in compliments and confidence boosts!<br><br>");
                    break;
                case 'shoes':
                    hype.push("üë† <strong>TRANSPORTATION COSTS</strong><br>");
                    hype.push("These aren't shoes, they're a VEHICLE for your success. ");
                    hype.push("Every step is an investment in your journey to becoming THAT girl!<br><br>");
                    break;
                case 'skincare':
                    hype.push("üß¥ <strong>MEDICAL NECESSITY</strong><br>");
                    hype.push("This is literally HEALTHCARE. You can't put a price on glowing skin and mental health. ");
                    hype.push("The government should be subsidizing this level of self-care!<br><br>");
                    break;
                case 'coffee':
                    hype.push("‚òï <strong>PRODUCTIVITY FUEL</strong><br>");
                    hype.push("This coffee will help you make MORE money, so it's basically a business investment. ");
                    hype.push("You'll probably get a promotion just from the energy boost alone!<br><br>");
                    break;
            }

            // Confidence level hype
            if (appData.regret >= 8) {
                hype.push("üíÖ <strong>CONFIDENCE LEVEL: LEGENDARY</strong><br>");
                hype.push("You're not just shopping, you're CURATING a lifestyle. This level of self-awareness is unmatched. ");
                hype.push("Other people wish they had your taste and financial confidence!<br><br>");
            } else if (appData.regret <= 3) {
                hype.push("ü•∫ <strong>GENTLE REMINDER MODE ACTIVATED</strong><br>");
                hype.push("Bestie, you deserve nice things! This purchase is an act of self-love. ");
                hype.push("Your past self would be SO proud of how far you've come!<br><br>");
            }

            // Final math justification
            if (isWearable && costPerWear < 100) {
                hype.push("üßÆ <strong>THE MATH IS MATHING</strong><br>");
                hype.push(`Under ‚Çπ100 per wear?! You've basically HACKED the fashion system. `);
                hype.push("This is more economical than eating out, and WAY more sustainable for your serotonin levels!<br><br>");
            }

            hype.push("üìà <strong>FINAL VERDICT:</strong> Purchase APPROVED by the Girl Math Council of Excellence. ");
            hype.push("Your financial literacy is unmatched and your taste is immaculate. No further questions, Your Honor!");

            return hype.join("");
        }

        function getCategoryName(category) {
            const names = {
                dresses: 'Fits & Lewks',
                shoes: 'Shoe Game',
                skincare: 'Self Care Era',
                bags: 'Bag Secured',
                jewelry: 'Bling Bling',
                tech: 'Tech Queen',
                coffee: 'Fuel Addiction',
                random: 'Random Chaos'
            };
            return names[category] || 'Iconic Purchase';
        }

        function getPaymentMethod(payment) {
            const methods = {
                cash: 'Cash Money',
                upi: 'UPI Queen',
                card: 'Card Swiped',
                bnpl: 'Pay Later Vibes',
                gift: 'Gift Card Hack',
                borrowed: 'Borrowed Funds'
            };
            return methods[payment] || 'Mysterious Ways';
        }

        function createConfetti() {
            const colors = ['#ec4899', '#a855f7', '#3b82f6', '#f59e0b', '#10b981'];
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 3000);
                }, i * 100);
            }
        }

        function startOver() {
            // Reset app data
            appData = {
                item: '',
                emoji: '',
                category: '',
                moment: '',
                mood: '',
                price: 0,
                sale: '',
                payment: '',
                cart: '',
                usage: 0,
                regret: 5
            };

            // Reset UI
            document.querySelectorAll('.selected').forEach(el => el.classList.remove('selected'));
            document.querySelectorAll('.text-input').forEach(input => input.value = '');
            document.getElementById('regretScale').value = 5;
            document.getElementById('scaleValue').textContent = '5';
            document.getElementById('receiptContent').innerHTML = '';
            
            // Reset buttons
            document.querySelectorAll('.btn').forEach(btn => {
                if (btn.textContent !== 'periodt let\'s go ‚ú®') {
                    btn.disabled = true;
                }
            });
            document.querySelector('#screen1 .btn').disabled = false;

            // Go back to first screen
            document.getElementById(`screen${currentScreen}`).classList.remove('active');
            currentScreen = 1;
            document.getElementById('screen1').classList.add('active');
            updateProgress();
        }
    </script>
</body>
</html>
