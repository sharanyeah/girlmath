<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Girl Math Calculator</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Mono:wght@400;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #fefefe;
            min-height: 100vh;
            color: #666;
            padding: 120px 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            max-width: 480px;
            width: 100%;
            margin: 0 auto;
            padding: 80px 60px;
        }

        .screen {
            display: none;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
        }

        .screen.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .header {
            text-align: center;
            margin-bottom: 60px;
        }

        .header h1 {
            font-size: 28px;
            font-weight: 600;
            color: #e91e63;
            margin-bottom: 16px;
            letter-spacing: -0.01em;
        }

        .header h2 {
            font-size: 24px;
            font-weight: 500;
            color: #e91e63;
            margin-bottom: 16px;
        }

        .header p {
            color: #999;
            font-size: 16px;
            line-height: 1.5;
            font-weight: 400;
        }

        .input-group {
            margin-bottom: 40px;
        }

        .input-group label {
            display: block;
            margin-bottom: 16px;
            font-weight: 500;
            color: #333;
            font-size: 15px;
        }

        .text-input {
            width: 100%;
            padding: 16px 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 400;
            transition: border-color 0.2s ease;
            background: white;
            color: #333;
            font-family: 'Inter', sans-serif;
        }

        .text-input:focus {
            outline: none;
            border-color: #e91e63;
        }

        .text-input::placeholder {
            color: #aaa;
            font-style: italic;
        }

        .emoji-reactions {
            display: flex;
            gap: 12px;
            margin-top: 24px;
            justify-content: center;
        }

        .emoji-btn {
            background: white;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 12px;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .emoji-btn:hover, .emoji-btn.selected {
            border-color: #e91e63;
            background: #fdf2f8;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 40px;
        }

        .category-item {
            background: white;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 24px 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            min-height: 90px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .category-item:hover, .category-item.selected {
            border-color: #e91e63;
            background: #fdf2f8;
        }

        .category-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .category-name {
            font-weight: 500;
            font-size: 13px;
            color: #666;
        }

        .mood-selector {
            display: flex;
            gap: 12px;
            margin-bottom: 40px;
        }

        .mood-item {
            flex: 1;
            background: white;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 20px 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .mood-item:hover, .mood-item.selected {
            border-color: #e91e63;
            background: #fdf2f8;
        }

        .mood-emoji {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .mood-text {
            font-weight: 400;
            font-size: 12px;
            color: #666;
        }

        .toggle-group {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .toggle-btn {
            flex: 1;
            background: white;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 12px 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 400;
            color: #666;
            font-size: 13px;
            min-width: 100px;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .toggle-btn:hover, .toggle-btn.selected {
            border-color: #e91e63;
            background: #fdf2f8;
            color: #333;
        }

        .scale-input {
            width: 100%;
            margin: 32px 0;
        }

        .scale-input input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #eee;
            outline: none;
            -webkit-appearance: none;
        }

        .scale-input input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #e91e63;
            cursor: pointer;
        }

        .scale-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #999;
            margin-top: 12px;
            font-weight: 400;
        }

        .btn {
            background: #e91e63;
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            font-family: 'Inter', sans-serif;
            cursor: pointer;
            transition: all 0.2s ease;
            width: 100%;
            margin-top: 40px;
        }

        .btn:hover {
            background: #d81b60;
        }

        .btn:disabled {
            background: #ddd;
            cursor: not-allowed;
        }

        .receipt {
            background: #ffffff;
            color: #000000;
            border-radius: 4px;
            padding: 32px 24px;
            font-family: 'Space Mono', 'Courier New', monospace;
            max-height: 500px;
            overflow-y: auto;
            margin-top: 40px;
            border: 2px dashed #e91e63;
        }

        .receipt-header {
            text-align: center;
            margin-bottom: 24px;
            font-size: 14px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #000000;
        }

        .receipt-store {
            text-align: center;
            margin-bottom: 20px;
            font-size: 16px;
            font-weight: 700;
            text-transform: uppercase;
        }

        .receipt-line {
            margin-bottom: 4px;
            opacity: 0;
            animation: printLine 0.4s ease forwards;
            font-size: 12px;
            line-height: 1.4;
            color: #000000;
            font-weight: 400;
            display: flex;
            justify-content: space-between;
        }

        .receipt-line.highlight {
            font-weight: 700;
            border-top: 1px solid #000;
            border-bottom: 1px solid #000;
            padding: 6px 0;
            margin: 12px 0;
            text-transform: uppercase;
        }

        .receipt-line.separator {
            text-align: center;
            margin: 16px 0;
            font-weight: 700;
            border-bottom: 1px solid #000;
            padding-bottom: 4px;
            text-transform: uppercase;
            display: block;
        }

        .receipt-line.center {
            justify-content: center;
            text-align: center;
            display: block;
            font-weight: 700;
            text-transform: uppercase;
        }

        .receipt-hype {
            background: #fdf2f8;
            border: 1px dashed #e91e63;
            border-radius: 4px;
            padding: 16px;
            margin: 16px 0;
            font-family: 'Inter', sans-serif;
            font-style: italic;
            color: #666;
            line-height: 1.5;
            font-size: 13px;
        }

        @keyframes printLine {
            to {
                opacity: 1;
            }
        }

        .progress-bar {
            width: 100%;
            height: 2px;
            background: #eee;
            border-radius: 1px;
            margin-bottom: 60px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #e91e63;
            border-radius: 1px;
            transition: width 0.3s ease;
        }

        @media (max-width: 580px) {
            body {
                padding: 60px 40px;
            }
            
            .container {
                padding: 60px 40px;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .header h2 {
                font-size: 20px;
            }
            
            .category-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .mood-selector {
                flex-direction: column;
                gap: 12px;
            }

            .toggle-group {
                flex-direction: column;
                gap: 8px;
            }

            .receipt {
                padding: 24px 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <!-- Screen 1: Spill the Tea -->
        <div class="screen active" id="screen1">
            <div class="header">
                <h1>girl math calculator</h1>
                <p>bestie spill the tea on what you just HAD to have... we're about to justify this purchase mathematically</p>
            </div>
            
            <div class="input-group">
                <label>drop the deets on your latest purchase:</label>
                <input type="text" class="text-input" id="itemInput" placeholder="literally this crop top was staring at me and i had no choice but to buy it...">
            </div>

            <div class="emoji-reactions">
                <button class="emoji-btn" data-emoji="😍">😍</button>
                <button class="emoji-btn" data-emoji="🥹">🥹</button>
                <button class="emoji-btn" data-emoji="💸">💸</button>
                <button class="emoji-btn" data-emoji="🤯">🤯</button>
            </div>

            <button class="btn" onclick="nextScreen()">periodt let's go</button>
        </div>

        <!-- Screen 2: Category -->
        <div class="screen" id="screen2">
            <div class="header">
                <h2>what vibe are we working with?</h2>
                <p>categorize your main character moment fr</p>
            </div>

            <div class="category-grid">
                <div class="category-item" data-category="fashion">
                    <div class="category-icon">👗</div>
                    <div class="category-name">fits that serve</div>
                </div>
                <div class="category-item" data-category="shoes">
                    <div class="category-icon">👠</div>
                    <div class="category-name">shoe game strong</div>
                </div>
                <div class="category-item" data-category="skincare">
                    <div class="category-icon">🧴</div>
                    <div class="category-name">glow up era</div>
                </div>
                <div class="category-item" data-category="bags">
                    <div class="category-icon">👜</div>
                    <div class="category-name">bag secured</div>
                </div>
                <div class="category-item" data-category="jewelry">
                    <div class="category-icon">💎</div>
                    <div class="category-name">bling things</div>
                </div>
                <div class="category-item" data-category="tech">
                    <div class="category-icon">📱</div>
                    <div class="category-name">tech girlie</div>
                </div>
                <div class="category-item" data-category="coffee">
                    <div class="category-icon">☕</div>
                    <div class="category-name">fuel addiction</div>
                </div>
                <div class="category-item" data-category="random">
                    <div class="category-icon">🛍️</div>
                    <div class="category-name">random splurge</div>
                </div>
            </div>

            <button class="btn" onclick="nextScreen()" disabled>this is it bestie</button>
        </div>

        <!-- Screen 3: Mood -->
        <div class="screen" id="screen3">
            <div class="header">
                <h2>bestie how did this happen?</h2>
                <p>what was the energy when this purchase went down</p>
            </div>

            <div class="input-group">
                <textarea class="text-input" id="momentInput" rows="3" placeholder="literally walked past the store and it was giving main character energy so obviously i had to go in..."></textarea>
            </div>

            <div class="mood-selector">
                <div class="mood-item" data-mood="impulse">
                    <div class="mood-emoji">😳</div>
                    <div class="mood-text">impulse queen</div>
                </div>
                <div class="mood-item" data-mood="planned">
                    <div class="mood-emoji">🧐</div>
                    <div class="mood-text">strategic baddie</div>
                </div>
                <div class="mood-item" data-mood="destiny">
                    <div class="mood-emoji">✨</div>
                    <div class="mood-text">universe said yes</div>
                </div>
            </div>

            <button class="btn" onclick="nextScreen()" disabled>valid af let's continue</button>
        </div>

        <!-- Screen 4: Money Details -->
        <div class="screen" id="screen4">
            <div class="header">
                <h2>okay money talk time</h2>
                <p>let's get into the financial tea but make it cute</p>
            </div>

            <div class="input-group">
                <label>what did your bank account sacrifice bestie?</label>
                <input type="number" class="text-input" id="priceInput" placeholder="3000">
            </div>

            <div class="input-group">
                <label>were you blessed with a sale moment?</label>
                <div class="toggle-group">
                    <button class="toggle-btn" data-sale="yes">yes queen!</button>
                    <button class="toggle-btn" data-sale="no">full price girlie</button>
                    <button class="toggle-btn" data-sale="destiny">universe provided</button>
                </div>
            </div>

            <div class="input-group">
                <label>how we paying for this slay?</label>
                <div class="toggle-group">
                    <button class="toggle-btn" data-payment="cash">Cash Only</button>
                    <button class="toggle-btn" data-payment="upi">Instant Pay</button>
                    <button class="toggle-btn" data-payment="card">card swipe life</button>
                </div>
                <div class="toggle-group">
                    <button class="toggle-btn" data-payment="bnpl">Pay Later</button>
                    <button class="toggle-btn" data-payment="gift">Gift card</button>
                    <button class="toggle-btn" data-payment="borrowed">Friend Loan</button>
                </div>
            </div>

            <button class="btn" onclick="nextScreen()" disabled>let's crunch these numbers</button>
        </div>

        <!-- Screen 5: Usage -->
        <div class="screen" id="screen5">
            <div class="header">
                <h2>reality check time bestie</h2>
                <p id="usagePrompt">but fr how much are we actually gonna use this?</p>
            </div>

            <div class="input-group">
                <input type="number" class="text-input" id="usageInput" placeholder="like honestly? probably 15 times">
            </div>

            <button class="btn" onclick="nextScreen()" disabled>okay that's valid let's go</button>
        </div>

        <!-- Screen 6: Confidence -->
        <div class="screen" id="screen6">
            <div class="header">
                <h2>confidence check bestie</h2>
                <p>on a scale of "why did i do this" to "i'm literally iconic"</p>
            </div>

            <div class="scale-input">
                <input type="range" min="1" max="10" value="5" id="regretScale">
                <div class="scale-labels">
                    <span>girl why</span>
                    <span>absolute serve</span>
                </div>
            </div>

            <div style="text-align: center; margin: 20px 0; font-size: 20px; font-weight: 600; color: #e91e63;">
                <span id="scaleValue">5</span>/10
            </div>

            <button class="btn" onclick="generateReceipt()">gimme that receipt bestie</button>
        </div>

        <!-- Screen 7: Receipt -->
        <div class="screen" id="screen7">
            <div class="header">
                <h2>your official receipt queen</h2>
                <p>purchase mathematically justified and certified iconic</p>
            </div>

            <div class="receipt" id="receipt">
                <div class="receipt-header">girl math certified purchase</div>
                <div id="receiptContent"></div>
            </div>

            <button class="btn" onclick="startOver()">another slay to justify?</button>
        </div>
    </div>

    <script>
        // App state
        let currentScreen = 1;
        const totalScreens = 7;
        let appData = {
            item: '',
            emoji: '',
            category: '',
            moment: '',
            mood: '',
            price: 0,
            sale: '',
            payment: '',
            usage: 0,
            regret: 5
        };

        // Wearable categories for cost-per-wear calculation
        const wearableCategories = ['fashion', 'shoes', 'bags', 'jewelry'];

        // Hype text arrays for different scenarios
        const hypeTexts = {
            sale: {
                yes: [
                    "ON SALE = LITERALLY FREE BESTIE! The universe said 'here's some money back queen' and who are we to argue with cosmic generosity? This purchase basically paid for itself!",
                    "Sale prices don't count as real spending fr! Your bank account might disagree but girl math says this was a donation to your happiness fund. Future you will thank present you!",
                    "When something's on sale it's literally the universe begging you to buy it. You'd be disrespecting the discount gods by NOT getting this essential life upgrade!"
                ],
                destiny: [
                    "This wasn't shopping bestie, this was DESTINY manifesting in retail form! The universe literally moved heaven and earth to get this item to you at the perfect moment!",
                    "Some purchases are written in the stars honey! This was cosmically pre-approved by the council of main characters. You're just fulfilling your purpose!",
                    "The universe said 'this girl needs this RIGHT NOW' and honestly? The universe has impeccable taste. This was fate disguised as a shopping trip!"
                ]
            },
            payment: {
                bnpl: [
                    "Future you is literally a different person with way more money! You're basically borrowing from your successful rich era self. This is just smart time management!",
                    "Buy now pay later = the ultimate girl math hack! Time isn't real and neither is money when it's spread across multiple paychecks. Genius financial strategy!",
                    "This purchase lives in a different timeline where you're already wealthy! Future you will be like 'omg past me had such good taste' while easily affording this!"
                ],
                gift: [
                    "GIFT CARDS ARE MONOPOLY MONEY BESTIE! This was literally free because someone else already spent the real money. You're just being resourceful and eco-friendly!",
                    "This doesn't count toward your actual budget because gift cards exist in a parallel economy! It's like using coupons but make it bougie. You basically got paid to shop!",
                    "Gift card purchases are in a separate category of financial reality! This was pre-funded by past gift-givers who knew you'd spend it on something iconic!"
                ],
                cash: [
                    "Cash doesn't feel real because you can't see it leave your bank account! This purchase happened in the physical realm which operates on different rules than digital money!",
                    "Physical cash is basically play money that you found in your wallet! If you can't track it on an app did it even really happen? This was basically free!",
                    "Cash transactions exist in a separate dimension from your actual finances! This money was already gone the moment you withdrew it, so this purchase costs nothing!"
                ]
            },
            category: {
                fashion: [
                    "This is an INVESTMENT in your personal brand bestie! Every time you serve looks in this, you're building your reputation as that girl. The ROI is literally infinite!",
                    "Cost per wear makes this cheaper than therapy and way more effective! You'll get compliments that boost your confidence for MONTHS. This is mental health care disguised as shopping!",
                    "Fashion is wearable art that makes you the main character everywhere you go! This isn't spending, it's curating your aesthetic and securing your icon status!"
                ],
                shoes: [
                    "Shoes are literally transportation costs! These will take you to your dream life one step at a time. This is investment in your journey to becoming THAT girl!",
                    "Good shoes change your whole energy bestie! Your posture improves, your confidence soars, your life transforms. This is basically paying for a personality upgrade!",
                    "Every step in these is a step toward your best self! This is personal development that happens to look cute. Your future successful self starts with the right footwear!"
                ],
                skincare: [
                    "This is HEALTHCARE disguised as shopping bestie! Skincare is medical necessity that happens to make you glow. Your dermatologist would literally prescribe this!",
                    "Self-care isn't selfish it's strategic! This investment in your skin will pay dividends in confidence, compliments, and clear pores for YEARS. This is long-term planning!",
                    "Glowing skin is the ultimate accessory that goes with every outfit! This purchase will make every selfie better and every mirror moment iconic. Priceless energy!"
                ],
                coffee: [
                    "Coffee is productivity fuel that powers your empire bestie! This caffeine will help you make MORE money so it's basically a business investment in your success!",
                    "This coffee will give you the energy to be the main character you were born to be! Every sip is an investment in your potential. This practically pays for itself!",
                    "Coffee shops are your office and this is rent money! You're paying for workspace ambiance and the right to exist in your natural habitat. Totally legitimate business expense!"
                ]
            },
            mood: {
                impulse: [
                    "Impulse purchases show you trust your instincts queen! Your intuition knew you needed this before your brain caught up. This is emotional intelligence in action!",
                    "Quick decisions are confident decisions bestie! You saw an opportunity and seized it like the main character you are. This is big boss energy manifesting!",
                    "Your subconscious was doing the financial planning while you were busy being iconic! Sometimes the heart knows what the budget hasn't figured out yet!"
                ],
                planned: [
                    "Strategic shopping is literally a life skill! This planned purchase proves you're mature, thoughtful, and have your priorities straight. We love a prepared queen!",
                    "You researched, you waited, you struck at the perfect moment! This is masterclass level consumer strategy. Your patience and planning deserve this reward!",
                    "This level of intentional purchasing shows incredible self-awareness bestie! You know what you want and you go get it. This is manifestation meeting preparation!"
                ],
                destiny: [
                    "The universe literally conspired to make this moment happen perfectly! This purchase was written in your stars and pre-approved by cosmic forces!",
                    "Some things are meant to be yours from birth bestie! This was destiny disguised as a shopping trip. You were just fulfilling your cosmic purpose!",
                    "This wasn't shopping, this was the universe delivering what you needed exactly when you needed it! Fate purchases don't count against earthly budgets!"
                ]
            },
            confidence: {
                high: [
                    "CONFIDENCE LEVEL: ABSOLUTELY LEGENDARY! You know your worth and you're not afraid to invest in it! This energy is what makes other people wish they were you!",
                    "This level of self-assurance is genuinely inspiring bestie! Your taste is immaculate and your financial confidence is the stuff of legends. Keep serving!",
                    "You're not just shopping, you're curating a lifestyle that others study for inspiration! This purchase screams main character energy and we're absolutely here for it!"
                ],
                medium: [
                    "This shows the perfect balance of self-love and financial awareness! You're treating yourself while being thoughtful about it. This is healthy queen behavior!",
                    "You found the sweet spot between budgeting and living your best life! This purchase hits different because it comes from a place of deserving. Very that!",
                    "This confidence level is chef's kiss! You know when to indulge strategically and when to appreciate the good things. Future you will absolutely approve!"
                ],
                low: [
                    "Bestie you deserve beautiful things and this purchase proves you're starting to believe it! Your taste is impeccable even when your confidence is still growing!",
                    "Sometimes we buy things our hearts need before our minds catch up and that's totally valid! This is self-love in action even if it doesn't feel like it yet!",
                    "Trust the process babe! This purchase is evidence that you're learning to value yourself. Past you would be so proud of how far you've come!"
                ]
            }
        };

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            setupEventListeners();
        });

        function setupEventListeners() {
            // Emoji reactions
            document.querySelectorAll('.emoji-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.emoji-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    appData.emoji = this.dataset.emoji;
                });
            });

            // Categories
            document.querySelectorAll('.category-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.category-item').forEach(i => i.classList.remove('selected'));
                    this.classList.add('selected');
                    appData.category = this.dataset.category;
                    document.querySelector('#screen2 .btn').disabled = false;
                });
            });

            // Moods
            document.querySelectorAll('.mood-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.mood-item').forEach(i => i.classList.remove('selected'));
                    this.classList.add('selected');
                    appData.mood = this.dataset.mood;
                    document.querySelector('#screen3 .btn').disabled = false;
                });
            });

            // Toggle buttons
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.parentElement;
                    group.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    if (this.dataset.sale) appData.sale = this.dataset.sale;
                    if (this.dataset.payment) appData.payment = this.dataset.payment;
                    
                    checkScreen4Complete();
                });
            });

            // Regret scale
            document.getElementById('regretScale').addEventListener('input', function() {
                document.getElementById('scaleValue').textContent = this.value;
                appData.regret = parseInt(this.value);
            });

            // Input validations
            document.getElementById('itemInput').addEventListener('input', function() {
                appData.item = this.value;
            });

            document.getElementById('momentInput').addEventListener('input', function() {
                appData.moment = this.value;
            });

            document.getElementById('priceInput').addEventListener('input', function() {
                appData.price = parseFloat(this.value) || 0;
                checkScreen4Complete();
            });

            document.getElementById('usageInput').addEventListener('input', function() {
                appData.usage = parseInt(this.value) || 0;
                document.querySelector('#screen5 .btn').disabled = this.value === '';
            });
        }

        function checkScreen4Complete() {
            const btn = document.querySelector('#screen4 .btn');
            btn.disabled = !(appData.price > 0 && appData.sale && appData.payment);
        }

        function nextScreen() {
            if (currentScreen < totalScreens) {
                // Update usage prompt based on category
                if (currentScreen === 4) {
                    const prompt = document.getElementById('usagePrompt');
                    if (wearableCategories.includes(appData.category)) {
                        prompt.textContent = 'how many times will you wear this per year?';
                    } else {
                        prompt.textContent = 'how many times will you use this per month?';
                    }
                }

                document.getElementById(`screen${currentScreen}`).classList.remove('active');
                currentScreen++;
                
                setTimeout(() => {
                    document.getElementById(`screen${currentScreen}`).classList.add('active');
                    updateProgress();
                }, 300);
            }
        }

        function updateProgress() {
            const progress = (currentScreen / totalScreens) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
        }

        function generateReceipt() {
            nextScreen();
            
            setTimeout(() => {
                const receiptContent = document.getElementById('receiptContent');
                const lines = generateReceiptLines();
                
                lines.forEach((lineObj, index) => {
                    setTimeout(() => {
                        if (lineObj.isHype) {
                            const hypeDiv = document.createElement('div');
                            hypeDiv.className = 'receipt-hype';
                            hypeDiv.innerHTML = lineObj.text;
                            receiptContent.appendChild(hypeDiv);
                        } else {
                            const lineDiv = document.createElement('div');
                            lineDiv.className = `receipt-line ${lineObj.class || ''}`;
                            if (lineObj.class === 'separator' || lineObj.class === 'center') {
                                lineDiv.textContent = lineObj.text;
                            } else {
                                lineDiv.innerHTML = lineObj.text;
                            }
                            lineDiv.style.animationDelay = `${index * 0.1}s`;
                            receiptContent.appendChild(lineDiv);
                        }
                    }, index * 200);
                });
            }, 500);
        }

        function generateReceiptLines() {
            const lines = [];
            const isWearable = wearableCategories.includes(appData.category);
            const today = new Date();
            const dateStr = today.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: '2-digit', 
                day: '2-digit' 
            });
            const timeStr = today.toLocaleTimeString('en-US', { 
                hour12: false,
                hour: '2-digit',
                minute: '2-digit'
            });
            
            lines.push({ text: 'GIRL MATH EMPORIUM', class: 'store' });
            lines.push({ text: '123 main character street', class: 'center' });
            lines.push({ text: 'iconic city, bestie state', class: 'center' });
            lines.push({ text: '', class: '' });
            lines.push({ text: `date: ${dateStr}    time: ${timeStr}`, class: '' });
            lines.push({ text: `cashier: bestie #001`, class: '' });
            lines.push({ text: `transaction: ${Math.random().toString(36).substr(2, 8).toUpperCase()}`, class: '' });
            lines.push({ text: '', class: '' });
            lines.push({ text: '========================', class: 'separator' });
            lines.push({ text: '', class: '' });
            
            const itemName = appData.item || 'iconic purchase';
            const categoryName = getCategoryName(appData.category);
            
            lines.push({ text: `<span>${itemName}</span><span>₹${appData.price.toFixed(2)}</span>` });
            lines.push({ text: `<span>category: ${categoryName}</span><span></span>` });
            lines.push({ text: `<span>vibe: ${appData.mood || 'iconic'}</span><span></span>` });
            lines.push({ text: '', class: '' });
            
            if (isWearable && appData.usage > 0) {
                const costPerWear = (appData.price / appData.usage);
                lines.push({ text: `<span>cost per wear:</span><span>₹${costPerWear.toFixed(2)}</span>`, class: 'highlight' });
            }
            
            lines.push({ text: '', class: '' });
            lines.push({ text: '========================', class: 'separator' });
            lines.push({ text: '', class: '' });
            
            lines.push({ text: `<span>subtotal:</span><span>₹${appData.price.toFixed(2)}</span>` });
            
            // No discount deduction - just show the original price as total
            const finalTotal = appData.price;
            lines.push({ text: `<span>total:</span><span>₹${finalTotal.toFixed(2)}</span>`, class: 'highlight' });
            lines.push({ text: '', class: '' });
            
            lines.push({ text: `paid by: ${getPaymentMethod(appData.payment)}`, class: 'center' });
            lines.push({ text: `confidence: ${appData.regret}/10`, class: 'center' });
            lines.push({ text: '', class: '' });
            lines.push({ text: '========================', class: 'separator' });
            lines.push({ text: '', class: '' });
            
            // Add personalized hype text
            const hypeText = generatePersonalizedHype();
            lines.push({ text: hypeText, isHype: true });
            
            lines.push({ text: '', class: '' });
            lines.push({ text: 'thank you for shopping!', class: 'center' });
            lines.push({ text: 'purchase mathematically', class: 'center' });
            lines.push({ text: 'justified', class: 'center' });
            lines.push({ text: '', class: '' });
            lines.push({ text: 'no returns on serotonin', class: 'center' });
            
            return lines;
        }

        function generatePersonalizedHype() {
            let hypeMessages = [];
            
            // Add sale-based hype
            if (appData.sale === 'yes' && hypeTexts.sale.yes) {
                const randomSaleHype = hypeTexts.sale.yes[Math.floor(Math.random() * hypeTexts.sale.yes.length)];
                hypeMessages.push(randomSaleHype);
            } else if (appData.sale === 'destiny' && hypeTexts.sale.destiny) {
                const randomDestinyHype = hypeTexts.sale.destiny[Math.floor(Math.random() * hypeTexts.sale.destiny.length)];
                hypeMessages.push(randomDestinyHype);
            }
            
            // Add payment-based hype
            if (hypeTexts.payment[appData.payment]) {
                const randomPaymentHype = hypeTexts.payment[appData.payment][Math.floor(Math.random() * hypeTexts.payment[appData.payment].length)];
                hypeMessages.push(randomPaymentHype);
            }
            
            // Add category-based hype
            if (hypeTexts.category[appData.category]) {
                const randomCategoryHype = hypeTexts.category[appData.category][Math.floor(Math.random() * hypeTexts.category[appData.category].length)];
                hypeMessages.push(randomCategoryHype);
            }
            
            // Add mood-based hype
            if (hypeTexts.mood[appData.mood]) {
                const randomMoodHype = hypeTexts.mood[appData.mood][Math.floor(Math.random() * hypeTexts.mood[appData.mood].length)];
                hypeMessages.push(randomMoodHype);
            }
            
            // Add confidence-based hype
            let confidenceLevel;
            if (appData.regret >= 8) {
                confidenceLevel = 'high';
            } else if (appData.regret <= 4) {
                confidenceLevel = 'low';
            } else {
                confidenceLevel = 'medium';
            }
            
            if (hypeTexts.confidence[confidenceLevel]) {
                const randomConfidenceHype = hypeTexts.confidence[confidenceLevel][Math.floor(Math.random() * hypeTexts.confidence[confidenceLevel].length)];
                hypeMessages.push(randomConfidenceHype);
            }
            
            // Add cost-per-wear specific hype for wearables
            const isWearable = wearableCategories.includes(appData.category);
            if (isWearable && appData.usage > 0) {
                const costPerWear = (appData.price / appData.usage);
                if (costPerWear < 100) {
                    hypeMessages.push("Under ₹100 per wear?! You've basically hacked the fashion system. This is more economical than a daily coffee and infinitely more stylish!");
                } else if (costPerWear < 200) {
                    hypeMessages.push("This cost per wear is absolutely reasonable! You're investing in pieces that will serve looks for years to come!");
                }
            }
            
            // Combine messages with proper spacing
            let finalHype = '<strong>OFFICIAL GIRL MATH VERDICT:</strong><br><br>';
            finalHype += hypeMessages.slice(0, 3).join('<br><br>'); // Limit to 3 messages to keep it readable
            finalHype += '<br><br><strong>FINAL VERDICT:</strong> Purchase approved by the Girl Math Council. Your financial literacy is unmatched and your taste is immaculate!';
            
            return finalHype;
        }

        function getCategoryName(category) {
            const names = {
                fashion: 'fashion',
                shoes: 'shoes',
                skincare: 'skincare',
                bags: 'bags',
                jewelry: 'jewelry',
                tech: 'tech',
                coffee: 'coffee',
                random: 'other'
            };
            return names[category] || 'iconic purchase';
        }

        function getPaymentMethod(payment) {
            const methods = {
                cash: 'cash money',
                upi: 'upi',
                card: 'card',
                bnpl: 'pay later',
                gift: 'gift card',
                borrowed: 'borrowed funds'
            };
            return methods[payment] || 'mysterious ways';
        }

        function startOver() {
            // Reset app data
            appData = {
                item: '',
                emoji: '',
                category: '',
                moment: '',
                mood: '',
                price: 0,
                sale: '',
                payment: '',
                usage: 0,
                regret: 5
            };

            // Reset UI
            document.querySelectorAll('.selected').forEach(el => el.classList.remove('selected'));
            document.querySelectorAll('.text-input').forEach(input => input.value = '');
            document.getElementById('regretScale').value = 5;
            document.getElementById('scaleValue').textContent = '5';
            document.getElementById('receiptContent').innerHTML = '';
            
            // Reset buttons
            document.querySelectorAll('.btn').forEach(btn => {
                btn.disabled = false;
            });
            // Disable specific buttons that need validation
            document.querySelector('#screen2 .btn').disabled = true;
            document.querySelector('#screen3 .btn').disabled = true;
            document.querySelector('#screen4 .btn').disabled = true;
            document.querySelector('#screen5 .btn').disabled = true;

            // Go back to first screen
            document.getElementById(`screen${currentScreen}`).classList.remove('active');
            currentScreen = 1;
            document.getElementById('screen1').classList.add('active');
            updateProgress();
        }
    </script>
</body>
</html>
